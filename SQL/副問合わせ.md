## 副問合わせ

> 副問合わせとは、関連するSQL文を1つにまとめて記述できる構文

### 例：全社員の平均給与よりも、給与が高い社員は誰か

```SQL
SELECT ename, sal
FROM   emp
WHERE  sal >= (SELECT AVG(sal)  
               FROM   emp);　　
```

WHERE句内で実行されるSELECTが１つの値を指定するので、それが主構文のWHERE句内の条件として書き換えられる。

## 相関副問合わせ

次に、**自分の所属する部署の平均給与よりも高い給与の社員はだれか**を考える。この場合、社員は所属する部署が異なるため、１人１人で検索する部署の平均給与が異なる。
その場合、先ほどの副問合わせでは、条件が上手く指定できない。この場合、今回の主題である相関副問合せを使用する。


![今回の例](../documents/jo_pic2.jpg)


参照：https://atmarkit.itmedia.co.jp/ait/articles/1208/06/news118.html
