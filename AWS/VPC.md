## VPC

Virtual Private Cloud。

AWS上に仮想ネットワークを作成できるサービス。VPCをさらにサブネットで分けることによって細かいネットワークを構築する。

<br>

### サブネット

VPC内に構成するネットワークセグメント。

１つのVPCに対して複数のサブネットを作成することができるが、VPCのIPアドレス範囲内でCIDRを設定する必要がある。

マルチAZ機能を使用するためには、異なるAZで作成した複数のサブネットが必要。

インターネットとの通信を可/不可で分けることで、ネットワークのセキュリティーを向上させることができる。

<br>

#### パブリックサブネット

インターネットとの通信が可能なサブネットで、外部との通信を行う必要があるサーバを配置。

<br>

#### プライベートサブネット

インターネットとの通信が必要ないサーバを配置。

<br>

### インターネットゲートウェイ

VPC内のリソースからインターネットへアクセスするためのゲートウェイ。

インターネットゲートウェイをVPCにアタッチすることで、VPC内のリソースからインターネットへアクセスすることができる。

<br>

### ルートテーブル

サブネット内のEC2のインスタンスに対する静的ルーティングを定義するもので、設定はサブネット単位で行う。

ルートテーブル内のデフォルトゲートウェイ（0.0.0.0/0）へのルーティングにインターネットゲートウェイを指定したサブネットが、パブリックサブネット、
指定していないものをプライベートサブネットとして定義されている。

<br>

### NATゲートウェイ

プライベートサブネットからインターネットへ接続するためのNAT機能があるゲートウェイ。NATインスタンスを利用する方法よりも高い可用性が期待できる。

<br>

### セキュリティグループ

EC2インスタンスなどに適応するファイアウォール機能。

EC2から出る通信を制御する<b>アウトバウンド</b>、EC2への通信を制御する<b>インバウンド</b>の２つを設定する。

<br>

### ネットワークACL

サブネット単位で設定するファイアウォール。

セキュリティグループとネットワークACLの主な違い

項目|セキュリティグループ|ネットワークACL
--|--|--
適応範囲|インスタンス単位|サブネット単位
デフォルト操作|インバウンド：全て拒否<br>アウトバウンド:全て許可|インバウンド：全て許可<br>アウトバウンド:全て許可
ルールの評価|全てのルールが適応される|ルールの番号順で適応される
ステータス|ステートフル（※1）|ステートレス(※2)

※1. <b>ステートフル</b>:ルールで許可された通信の戻りの通信も自動的に許可される

※2. <b>ステートレス</b>:セキュリティグループとは異なり、インバウンドとアウトバウンドに対する通信制御が必要









