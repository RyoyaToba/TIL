## ジェネリクス

ジェネリクスとは、そのクラスが扱う型を実行時に決めることができる仕組みのこと。

## 総称型

次の貨幣を表すCurrencyクラスは、金額として整数だけを扱う。

```Java
public class Currency{
  private Integer amount;
  public Currency(Integer amount){
    super();
    this.amount = amount;
  }
  public Integer getAmount(){
    return amount;
  }
}
```

貨幣によっては小数点以下の値も扱いたいケースがあるので、従来であれば別のクラスを定義する必要があった。

ジェネリクスを使えば、次のように型の部分を後から決められる**型パラメータ**として表現することができるようになった。

コード中のTとなっている部分が型パラメータを表す。この部分は、実行時にどの型を使うのか指定することで、そのインスタンスが持つメンバの型パラメータが置き換わる。

```Java
public class Currency<T> {
  private T amount;
  public Currency(T amount){
    super();
    this.amount = amount;
  }
  public T getAmount(){
    return amount;
  }
}
```

実行クラス

```Java
public class Sample{
  public static void main(String[] args){
    Currency<Double> currence = new Currency<Double>(7.25);
    System.out.println(currency.getAmount());
  }
}
```
ジェネリクスの中に型を指定することで、Double型に置き換わる。

イメージ

```Java
public class Currency<Double> {
  private T amount;
  public Currency(Double amount){
    super();
    this.amount = amount;
  }
  public Double getAmount(){
    return amount;
  }
}
```

実際は、ジェネリクスがObject型で扱い、利用するタイミングでダウンキャストをしているだけ。

```Java
 // ジェネリクスで指定しなければ、Object型を扱う
 Currency currence = new Currency(7.25);
    // 利用時にDouble型へダウンキャストされる
    System.out.println((Double)currency.getAmount());
```

また、次のようにすると、Integer型を扱うインスタンスを定義できる。

```Java
public class Sample{
  public static void main(String[] args){
    Currency<Integer> currence = new Currency<Integer>(7.25);
    System.out.println(currency.getAmount());
  }
}
```







