## 一覧を取得する

ディレクトリ内の一覧をファイルとして取得するために、listFilesメソッドを使用する

```Java
public class Main {
  public static void main(String[] args) throws IOException {
    File rootDir = new File(".");
    showTree(rootDir);
   }
  private static void showTree(File dir) {
    File[] files = dir.listFiles();
    for (File file : files){
      System.out.println(file.getName());
    }
  }
}
```

出力結果

```console
test
out
practiceSilver.iml
data2.txt
data.txt
.idea
src
```

上記のコードでは、カレントディレクトリの内容を一覧表示するだけで、内容がディレクトリであってもディレクトリ名が表示されるだけであった。
これを改造して、再帰呼び出しのメソッドに変更することで、内容がディレクトリだった場合には、さらにサブディレクトリの内容を一覧表示できるようになる。

```Java
public class Main {
    public static void main(String[] args) throws IOException {
      File rootDir = new File(".");
      showTree(rootDir, "");
    }
    private static void showTree(File dir, String indent) {
        File[] files = dir.listFiles();
        for (File file : files){
            System.out.println(file.getName());
            if (file.isDirectory()){
                showTree(file, indent + " ");
            }
        }
    }
}
```

出力結果

```console
test
sample.txt
out
production
practiceSilver
Department.class
Employee.class
Main.class
practiceSilver.iml
data2.txt
data.txt
.idea
.gitignore
workspace.xml
modules.xml
misc.xml
src
Department.java
Main.java
Employee.java
```
